---
import { Image } from 'astro:assets';

// Import all JPG files from the gallery folder
const images = import.meta.glob<{ default: ImageMetadata }>(
  '/src/gallery/*.{jpg,jpeg,png,gif}',
  { eager: true }
);

// Convert to array
const galleryImages = Object.entries(images).map(([path, module]) => ({
  path,
  image: module.default
}));
---


<div class="image-grid">
  {galleryImages.map(({ path, image }) => (
    <figure>
      <Image 
        src={image}
        alt={path.split('/').pop() || 'Gallery image'}
        width="800"
        class="grid-image"
      />
    </figure>
  ))}
</div>
